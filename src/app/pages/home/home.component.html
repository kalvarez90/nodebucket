<!-- Home Page with title and subtitle -->
<div fxLayout="column" class="main-welcome">

  <!-- Home Page Title -->
  <div fxFlex>
    <h1 class="title">
      Welcome to WEB 450's - nodebucket Project <br />
    <span class="subtitle">
      Pay close attention to the requirements, double and triple check the files for code attribution, and do not wait until the last minute to begin working on each item.
    </span>
    </h1>
  </div>
  <!-- End of Title - fxFlex -->

  <!-- create task button -->
  <div fxFlex>
    <div fxLayout='column' class="task-container">
      <button mat-raised-button color='primary' (click)='openCreateTaskDialog()'>Create Task</button>
    </div>
    <br>
  </div>
  <!-- End of create task button - fxFlex -->

  <!-- task columns -->
  <div fxFlex>

    <div fxLayout='row' fxLayoutGap='15px' class="task-container">

      <!-- TODO task column -->
      <div fxFlex>
        <mat-card>
          <mat-card-title>To-Do Tasks</mat-card-title>

          <mat-card-content>

            <div fxLayout='column' fxLayoutGap='10px' class="task-list" cdkDropList
                 #todoList='cdkDropList' [cdkDropListData]='todo'
                 [cdkDropListConnectedTo]='[doneList]'
                 (cdkDropListDropped)='drop($event)'>

              <div *ngFor='let item of todo' cdkDrag>

              <mat-card class="mat-elevation-z0 task-card">

                <mat-card-content>
                  <div fxLayout='row'>
                    <!--Task Name-->
                    <div fxFlex> {{ item.text }} </div>

                    <!-- Task Menu -->
                    <div fxFlex fxLayoutAlign='end'>
                      <button [matMenuTriggerFor]='todoOptions' mat-icon-button>
                        <mat-icon>more_horiz</mat-icon>
                      </button>

                      <mat-menu #todoOptions='matMenu' x-position='before'>
                        <button (click)='deleteTask(item._id)' mat-menu-item>
                          Remove
                        </button>
                      </mat-menu>
                    </div>

                  </div>
                </mat-card-content>

              </mat-card>
              </div>
            </div>
          </mat-card-content>
        </mat-card>
      </div>
      <!-- End of todo tasks -->

      <!-- DONE task column-->
      <div fxFlex>
        <mat-card>
          <mat-card-title>Done Tasks</mat-card-title>

          <mat-card-content>

            <div fxLayout='column' fxLayoutGap='10px' class="task-list" cdkDropList
                 #doneList = 'cdkDropList' [cdkDropListData]='done' [cdkDropListConnectedTo]='todoList'
                 (cdkDropListDropped) = 'drop($event)'>


                <div *ngFor='let item of done' cdkDrag>

                  <mat-card class="mat-elevation-z0 task-card">

                    <mat-card-content>

                      <div fxLayout='row'>

                      <div fxFlex>{{ item.text }}</div>

                      <!-- Button with click event to delete task-->
                      <div fxFlex fxLayoutAlign='end'>
                        <button [matMenuTriggerFor]='doneOptions' mat-icon-button>
                          <mat-icon>more_horiz</mat-icon>
                        </button>

                        <mat-menu #doneOptions='matMenu' x-position='before'>
                          <button (click)='deleteTask(item._id)' mat-menu-item>
                            Remove
                          </button>
                        </mat-menu>

                      </div>

                      </div>

                    </mat-card-content>

                  </mat-card>

                </div>

            </div>

          </mat-card-content>

        </mat-card>
      </div>

    </div>

  </div>
  <!-- End of task columns - fxFlex -->


</div>
<!-- End of main container-->
